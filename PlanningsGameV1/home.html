<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="src/view/css/home.css">
  
  <title>Planning Game - Home</title>
</head>

<body>
  <div class="homeHeader">
    <button class="backButton" type="button" id="backButton" onClick="location.href='index.html'">Back to rooms</button>
    <h1>Home</h1>
  </div>

  <div class="homeBody">
    <div class="rulesSettings">
      <div class=container>
        <h2>Instructions</h2> <br>
        <p> In this game you play as a planner of patients in an oncology department. Every day, various patients will want to schedule an appointment for chemo therapy and/or with an oncologist. It is for you to decide where to put every patient in an agenda. Pay attention, from the moment you have planned in a patient, no other patient can be scheduled on that same spot. So, you wil have to think clearly about every choice you make. <br>
          <ul>
            <li> You start with an empty <p class="pictureText" onclick="showPicture('pictures/InitialAgenda.png')">agenda</p> and with <p class="pictureText" onclick="showPicture('pictures/PatientInformation.png')">information</p> of the patient you have to schedule. This information shows all the data needed to be able to schedule the patient.</li>
            <ul> <li> The <p class="pictureText" onclick="showPicture('pictures/availibilityInfo.png')">availability column</p> shows the weekdays that the patient is available. You will have to choose one of those days for every appointment the patient has.</li><br>
            <li>The next <p class="pictureText" onclick="showPicture('pictures/patientAppointmentInfo.png')">part</p> shows the number of appointments you have to schedule for that patient. The first number in the 'onco' and 'chemo' column shows the total number of appointments needed. The second number shows the total amount of appointments you still have to plan. After planning one onco and one chemo appointment the display of the patient will look something like <p class="pictureText" onclick="showPicture('pictures/patientInfoPlannedIn.png')">this</p>. </li><br>
            <li>The  <p class="pictureText" onclick="showPicture('pictures/chemoLength.png')">last information</p> shown, is the amount of slots one chemo therapy appointment for that patient will take.</li></ul>
            <li>Now, you can start with scheduling the patients. You can do this by <p class="pictureText" onclick="showPicture('pictures/pressOnSlot.png')">clicking on a slot</p> in the agenda where you want the appointment to go. If you are happy with your choice you can press the <p class="pictureText" onclick="showPicture('pictures/confirm.png')">confirm button</p> or 'enter' on you keyboard. The patient is now planned. If that was the last appointment of that patient the slot becomes <p class="pictureText" onclick="showPicture('pictures/redSlot.png')">red</p> and you will not be able to change that appointment. If it is not the last appointment, it keeps being <p class="pictureText" onclick="showPicture('pictures/yellowSlot.png')">yellow</p> and you will be able to press a reset button to delete every appointment of that patient.</li>  <br>
            <li>There are different ways to schedule a patient depending on the number of appointments they have.</li><br>
            <ol>
              <li>The patients have only one 'onco' appointment. This kind of patients needs a one hour appointment with the oncologist.</li><br>
              <li>The patients have only 'chemo' appointments. For this patient you will need to schedule a 'chemo' appointment every week for the amount given.</li><br>
              <li>The patients have both 'onco' and 'chemo' appointments. Here you will have to first plan an 'onco' appointment and then two hours later a 'chemo' appointment which you will have to repeat the next weeks until all the appointments of the patient are scheduled.</li>
            </ol> <br>
            <li>Every day a random number of patients will come after which the agenda will go to the next day. It is not possible to schedule on the current and previous days. If, for whatever reason, you are not able to plan the patient in, you can press the <p class="pictureText" onclick="showPicture('pictures/skip.png')">skip</p> button with which you will go to the next patient.</li><br>
            <li>The game will check every patient ,that has a chemo appointment on that day, with a blood test to check if they are fit enough. If a patient fails their bloodtest, you will have to plan a new appointment the week after his last appointment. The game will let you know if this happens with a popup. </li> <br>
            <li>Now you know how to play the game! If you want, you can play a demo which is a short simple version of the game with every possible scenario. If not, you can try one of the three difficulties of the game. Each game will be rated using 5 variables seen in the table on the right hand side. You can find more information by hovering over it.</li>
          </ul>
          
        </p>
        <a href="tuto.html"><button class="startButton" id="tutoButton">Demo</button></a>
      </div>
    
      <div class=container>
        <h2>Choose difficulty</h2>
        <form name="mySettings">
          <label><input type="radio" name="difficulty" id="easy" value="Easy" checked="checked">Easy</label>  
          <label><input type="radio" name="difficulty" id="moderate" value="Moderate">Moderate</label>
          <label><input type="radio" name="difficulty" id="hard" value="Hard">Hard</label>
        </form>

        <button class="startButton" onClick="startGame()">Start game</button></a>
      </div>
    </div>

    <div class="results">
      <div class="resultsHeader">
        <h2>Average room scores</h2>
      </div>
      <table class="resultTable" id="avgTable">
        <thead>
          <tr>
            <th>Difficulty</th>
            <th class="hovertext">Skipped patients
              <span class="explanation">The number of skipped patients</span></th>  
            <th class="hovertext">Appointment standard deviation
              <span class="explanation">For chemo it is important to receive treatment on the same moments of the day. This variable holds the standardeviation of the number of slots in between two appointments.</span></th>
            <th class="hovertext">Avg appointment difference
              <span class="explanation">For chemo it is important to receive treatment on the same moments of the day. This variable holds the average diference of the number of slots in between two appointments.</span></th>
            <th class="hovertext">Avg first appointment time
              <span class="explanation">The average number of days between the moment the patient needed to be scheduled and its first appointment.</span></th>
            <th class="hovertext">Completion time
              <span class="explanation">The time it took to complete the game</span></th>
          </tr>
        </thead>
        <tbody>
          <!-- GENERATED BY JS -->
        </tbody>
      </table> 

      <div class="resultsHeader">
        <h2>Individual scores</h2>
      </div>
      <table class="resultTable" id="resultTable">
        <thead>
          <tr>
            <th>Difficulty</th>
            <th class="hovertext">Skipped patients
              <span class="explanation">The number of skipped patients</span></th>  
            <th class="hovertext">Appointment standard deviation
              <span class="explanation">For chemo it is important to receive treatment on the same moments of the day. This variable holds the standardeviation of the number of slots in between two appointments.</span></th>
            <th class="hovertext">Avg appointment difference
              <span class="explanation">For chemo it is important to receive treatment on the same moments of the day. This variable holds the average diference of the number of slots in between two appointments.</span></th>
            <th class="hovertext">Avg first appointment time
              <span class="explanation">The average number of days between the moment the patient needed to be scheduled and its first appointment.</span></th>
            <th class="hovertext">Completion time
              <span class="explanation">The time it took to complete the game</span></th>
          </tr>
        </thead>
        <tbody>
          <!-- GENERATED BY JS -->
        </tbody>
      </table> 
    </div>
  </div>

 

  <div id="instructionPopUp" class="popUp">
    <!-- popUp content -->
        <img  id="img" src="pictures/PatientInformation.png" alt="Information of patient" style="max-width:800px;max-height: 500px" >
        <a class="close"  onclick="clearPopup()">x</a>  
      
      </div>
    </div>
   <!-- The core Firebase JS SDK is always required and must be listed first -->
   <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>

   <!-- TODO: Add SDKs for Firebase products that you want to use
    https://firebase.google.com/docs/web/setup#available-libraries -->
   <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-analytics.js"></script>

   <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-database.js"></script>
  
   <script>
   // Your web app's Firebase configuration
   // For Firebase JS SDK v7.20.0 and later, measurementId is optional
   var firebaseConfig = {
       apiKey: "AIzaSyC3RuOplNd7JCfHmhp0ybN_IeTUljKrKCA",
       authDomain: "planningsgame.firebaseapp.com",
       databaseURL: "https://planningsgame-default-rtdb.europe-west1.firebasedatabase.app",
       projectId: "planningsgame",
       storageBucket: "planningsgame.appspot.com",
       messagingSenderId: "588370794085",
       appId: "1:588370794085:web:f0f87b5daa9e5b775cd88c",
       measurementId: "G-70Q9RTPJ00"
   };

   // Initialize Firebase
   firebase.initializeApp(firebaseConfig);
   firebase.analytics();   

   // Get a reference to the database service
   var database = firebase.database().ref(); 
   </script>
 
  <script src="src/view/js/home.js"></script>
</body>
</html>